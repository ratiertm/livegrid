# LiveView Grid í…ŒìŠ¤íŠ¸ ëª…ì„¸ì„œ

> **ë²„ì „**: v0.1.0  
> **ì‘ì„±ì¼**: 2026-02-20  
> **ìƒíƒœ**: Draft - í…ŒìŠ¤íŠ¸ ì‹œë‚˜ë¦¬ì˜¤ ì •ì˜

---

## ğŸ“‹ ëª©ì°¨

1. [í…ŒìŠ¤íŠ¸ ì „ëµ](#í…ŒìŠ¤íŠ¸-ì „ëµ)
2. [ë‹¨ìœ„ í…ŒìŠ¤íŠ¸](#ë‹¨ìœ„-í…ŒìŠ¤íŠ¸)
3. [í†µí•© í…ŒìŠ¤íŠ¸](#í†µí•©-í…ŒìŠ¤íŠ¸)
4. [E2E í…ŒìŠ¤íŠ¸](#e2e-í…ŒìŠ¤íŠ¸)
5. [ì„±ëŠ¥ í…ŒìŠ¤íŠ¸](#ì„±ëŠ¥-í…ŒìŠ¤íŠ¸)
6. [í…ŒìŠ¤íŠ¸ ì»¤ë²„ë¦¬ì§€](#í…ŒìŠ¤íŠ¸-ì»¤ë²„ë¦¬ì§€)
7. [CI/CD í†µí•©](#cicd-í†µí•©)

---

## í…ŒìŠ¤íŠ¸ ì „ëµ

### í…ŒìŠ¤íŠ¸ í”¼ë¼ë¯¸ë“œ

```
           â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
          /   E2E (5%)   \      â† Wallaby (ë¸Œë¼ìš°ì €)
         /________________\
        /                  \
       /  í†µí•© í…ŒìŠ¤íŠ¸ (15%) \   â† LiveView í†µí•©
      /______________________\
     /                        \
    /   ë‹¨ìœ„ í…ŒìŠ¤íŠ¸ (80%)      \  â† ExUnit (ìˆœìˆ˜ í•¨ìˆ˜)
   /____________________________\
```

### í…ŒìŠ¤íŠ¸ ë²”ìœ„

| ê³„ì¸µ | ë„êµ¬ | ë¹„ìœ¨ | ëª©í‘œ ì»¤ë²„ë¦¬ì§€ |
|------|------|------|--------------|
| **ë‹¨ìœ„ í…ŒìŠ¤íŠ¸** | ExUnit | 80% | > 90% |
| **í†µí•© í…ŒìŠ¤íŠ¸** | LiveView Test | 15% | > 70% |
| **E2E í…ŒìŠ¤íŠ¸** | Wallaby | 5% | ì£¼ìš” ì‹œë‚˜ë¦¬ì˜¤ |

---

## ë‹¨ìœ„ í…ŒìŠ¤íŠ¸

### 1. Grid ëª¨ë“ˆ í…ŒìŠ¤íŠ¸

#### í…ŒìŠ¤íŠ¸ íŒŒì¼: `test/liveview_grid/grid_test.exs`

```elixir
defmodule LiveViewGrid.GridTest do
  use ExUnit.Case, async: true
  
  alias LiveViewGrid.Grid
  
  describe "new/1" do
    test "valid optionsë¡œ Grid ìƒì„±" do
      opts = [
        data: [%{id: 1, name: "Alice"}],
        columns: [%{field: :name, label: "ì´ë¦„"}],
        options: %{page_size: 20}
      ]
      
      assert {:ok, grid} = Grid.new(opts)
      assert grid.id != nil
      assert grid.version == "0.1.0"
      assert length(grid.data) == 1
      assert length(grid.columns) == 1
    end
    
    test "data ì—†ì´ Grid ìƒì„± ì‹¤íŒ¨" do
      opts = [
        columns: [%{field: :name, label: "ì´ë¦„"}]
      ]
      
      assert {:error, :missing_data} = Grid.new(opts)
    end
    
    test "columns ì—†ì´ Grid ìƒì„± ì‹¤íŒ¨" do
      opts = [
        data: [%{id: 1, name: "Alice"}]
      ]
      
      assert {:error, :missing_columns} = Grid.new(opts)
    end
    
    test "ê¸°ë³¸ ì˜µì…˜ ì ìš©" do
      opts = [
        data: [],
        columns: [%{field: :name, label: "ì´ë¦„"}]
      ]
      
      assert {:ok, grid} = Grid.new(opts)
      assert grid.options.page_size == 20
      assert grid.options.show_header == true
    end
  end
  
  describe "visible_data/1" do
    setup do
      data = [
        %{id: 1, name: "Charlie", age: 35},
        %{id: 2, name: "Alice", age: 30},
        %{id: 3, name: "Bob", age: 25}
      ]
      
      columns = [
        %{field: :name, label: "ì´ë¦„", sortable: true},
        %{field: :age, label: "ë‚˜ì´", sortable: true}
      ]
      
      {:ok, grid} = Grid.new(data: data, columns: columns, options: %{page_size: 2})
      %{grid: grid}
    end
    
    test "ì •ë ¬ ì—†ì´ ë°ì´í„° ë°˜í™˜", %{grid: grid} do
      visible = Grid.visible_data(grid)
      assert length(visible) == 2  # page_size
      assert hd(visible).name == "Charlie"
    end
    
    test "ì •ë ¬ ì ìš© í›„ ë°ì´í„° ë°˜í™˜", %{grid: grid} do
      grid = %{grid | state: %{grid.state | sort: %{field: :name, direction: :asc}}}
      visible = Grid.visible_data(grid)
      
      assert hd(visible).name == "Alice"
    end
  end
end
```

---

### 2. Sorting ëª¨ë“ˆ í…ŒìŠ¤íŠ¸

#### í…ŒìŠ¤íŠ¸ íŒŒì¼: `test/liveview_grid/sorting_test.exs`

```elixir
defmodule LiveViewGrid.SortingTest do
  use ExUnit.Case, async: true
  
  alias LiveViewGrid.Sorting
  
  setup do
    data = [
      %{id: 2, name: "Bob", age: 25},
      %{id: 1, name: "Alice", age: 30},
      %{id: 3, name: "Charlie", age: 20}
    ]
    
    %{data: data}
  end
  
  describe "sort/3" do
    test "ì˜¤ë¦„ì°¨ìˆœ ì •ë ¬", %{data: data} do
      sorted = Sorting.sort(data, :name, :asc)
      
      assert length(sorted) == 3
      assert hd(sorted).name == "Alice"
      assert List.last(sorted).name == "Charlie"
    end
    
    test "ë‚´ë¦¼ì°¨ìˆœ ì •ë ¬", %{data: data} do
      sorted = Sorting.sort(data, :name, :desc)
      
      assert hd(sorted).name == "Charlie"
      assert List.last(sorted).name == "Alice"
    end
    
    test "ìˆ«ì í•„ë“œ ì •ë ¬", %{data: data} do
      sorted = Sorting.sort(data, :age, :asc)
      
      assert hd(sorted).age == 20
      assert List.last(sorted).age == 30
    end
    
    test "nil ê°’ ì²˜ë¦¬ (ë§ˆì§€ë§‰ í‘œì‹œ)" do
      data = [
        %{name: "Alice"},
        %{name: nil},
        %{name: "Bob"}
      ]
      
      sorted = Sorting.sort(data, :name, :asc)
      
      assert List.last(sorted).name == nil
    end
    
    test "ì¡´ì¬í•˜ì§€ ì•ŠëŠ” í•„ë“œ ì •ë ¬ (ì—ëŸ¬)" do
      data = [%{name: "Alice"}]
      
      assert_raise KeyError, fn ->
        Sorting.sort(data, :nonexistent_field, :asc)
      end
    end
  end
end
```

---

### 3. Pagination ëª¨ë“ˆ í…ŒìŠ¤íŠ¸

#### í…ŒìŠ¤íŠ¸ íŒŒì¼: `test/liveview_grid/pagination_test.exs`

```elixir
defmodule LiveViewGrid.PaginationTest do
  use ExUnit.Case, async: true
  
  alias LiveViewGrid.Pagination
  
  setup do
    data = Enum.map(1..100, fn i -> %{id: i, name: "User #{i}"} end)
    %{data: data}
  end
  
  describe "paginate/3" do
    test "ì²« í˜ì´ì§€ (20ê°œ)", %{data: data} do
      page_data = Pagination.paginate(data, 1, 20)
      
      assert length(page_data) == 20
      assert hd(page_data).id == 1
      assert List.last(page_data).id == 20
    end
    
    test "ë‘ ë²ˆì§¸ í˜ì´ì§€", %{data: data} do
      page_data = Pagination.paginate(data, 2, 20)
      
      assert length(page_data) == 20
      assert hd(page_data).id == 21
      assert List.last(page_data).id == 40
    end
    
    test "ë§ˆì§€ë§‰ í˜ì´ì§€ (ë¶€ë¶„)", %{data: data} do
      # 100ê°œ / 20 = 5í˜ì´ì§€
      page_data = Pagination.paginate(data, 5, 20)
      
      assert length(page_data) == 20
      assert List.last(page_data).id == 100
    end
    
    test "ë²”ìœ„ ì´ˆê³¼ í˜ì´ì§€ (ë¹ˆ ë¦¬ìŠ¤íŠ¸)", %{data: data} do
      page_data = Pagination.paginate(data, 10, 20)
      
      assert page_data == []
    end
  end
  
  describe "total_pages/2" do
    test "ì •í™•íˆ ë‚˜ëˆ„ì–´ ë–¨ì–´ì§" do
      assert Pagination.total_pages(100, 20) == 5
    end
    
    test "ë‚˜ë¨¸ì§€ ìˆìŒ (ì˜¬ë¦¼)" do
      assert Pagination.total_pages(101, 20) == 6
      assert Pagination.total_pages(99, 20) == 5
    end
    
    test "ë°ì´í„° ì—†ìŒ" do
      assert Pagination.total_pages(0, 20) == 0
    end
  end
end
```

---

### 4. Column ëª¨ë“ˆ í…ŒìŠ¤íŠ¸

#### í…ŒìŠ¤íŠ¸ íŒŒì¼: `test/liveview_grid/column_test.exs`

```elixir
defmodule LiveViewGrid.ColumnTest do
  use ExUnit.Case, async: true
  
  alias LiveViewGrid.Column
  
  describe "normalize/1" do
    test "ìµœì†Œ í•„ë“œë§Œ ìˆëŠ” ì»¬ëŸ¼" do
      column = %{field: :name, label: "ì´ë¦„"}
      normalized = Column.normalize(column)
      
      assert normalized.field == :name
      assert normalized.label == "ì´ë¦„"
      assert normalized.width == :auto
      assert normalized.sortable == false
    end
    
    test "ì „ì²´ ì˜µì…˜ ìˆëŠ” ì»¬ëŸ¼" do
      column = %{
        field: :name,
        label: "ì´ë¦„",
        width: 150,
        sortable: true,
        align: :center
      }
      
      normalized = Column.normalize(column)
      
      assert normalized.width == 150
      assert normalized.sortable == true
      assert normalized.align == :center
    end
    
    test "field ì—†ìœ¼ë©´ ì—ëŸ¬" do
      column = %{label: "ì´ë¦„"}
      
      assert {:error, :missing_field} = Column.normalize(column)
    end
    
    test "label ì—†ìœ¼ë©´ ì—ëŸ¬" do
      column = %{field: :name}
      
      assert {:error, :missing_label} = Column.normalize(column)
    end
  end
  
  describe "validate/1" do
    test "ìœ íš¨í•œ ì»¬ëŸ¼" do
      column = %{field: :name, label: "ì´ë¦„", width: 150}
      
      assert :ok = Column.validate(column)
    end
    
    test "ì˜ëª»ëœ width (ìŒìˆ˜)" do
      column = %{field: :name, label: "ì´ë¦„", width: -10}
      
      assert {:error, :invalid_width} = Column.validate(column)
    end
    
    test "ì˜ëª»ëœ align" do
      column = %{field: :name, label: "ì´ë¦„", align: :invalid}
      
      assert {:error, :invalid_align} = Column.validate(column)
    end
  end
end
```

---

## í†µí•© í…ŒìŠ¤íŠ¸

### 5. GridComponent í†µí•© í…ŒìŠ¤íŠ¸

#### í…ŒìŠ¤íŠ¸ íŒŒì¼: `test/liveview_grid_web/components/grid_component_test.exs`

```elixir
defmodule LiveViewGridWeb.GridComponentTest do
  use LiveViewGridWeb.ConnCase
  
  import Phoenix.LiveViewTest
  
  alias LiveViewGridWeb.GridComponent
  
  describe "GridComponent ë Œë”ë§" do
    test "ê¸°ë³¸ Grid ë Œë”ë§", %{conn: conn} do
      {:ok, view, _html} = live_isolated(conn, GridComponent,
        session: %{
          "data" => [%{id: 1, name: "Alice"}],
          "columns" => [%{field: :name, label: "ì´ë¦„"}]
        }
      )
      
      assert has_element?(view, ".lv-grid")
      assert has_element?(view, ".lv-grid__header")
      assert has_element?(view, ".lv-grid__body")
    end
    
    test "ì»¬ëŸ¼ í—¤ë” í‘œì‹œ", %{conn: conn} do
      {:ok, view, _html} = live_isolated(conn, GridComponent,
        session: %{
          "data" => [],
          "columns" => [
            %{field: :id, label: "ID"},
            %{field: :name, label: "ì´ë¦„"}
          ]
        }
      )
      
      assert has_element?(view, ".lv-grid__header-cell", "ID")
      assert has_element?(view, ".lv-grid__header-cell", "ì´ë¦„")
    end
    
    test "ë°ì´í„° í–‰ ë Œë”ë§", %{conn: conn} do
      {:ok, view, _html} = live_isolated(conn, GridComponent,
        session: %{
          "data" => [
            %{id: 1, name: "Alice"},
            %{id: 2, name: "Bob"}
          ],
          "columns" => [
            %{field: :id, label: "ID"},
            %{field: :name, label: "ì´ë¦„"}
          ]
        }
      )
      
      assert has_element?(view, ".lv-grid__cell", "Alice")
      assert has_element?(view, ".lv-grid__cell", "Bob")
    end
  end
  
  describe "ì •ë ¬ ì´ë²¤íŠ¸" do
    test "ì»¬ëŸ¼ í´ë¦­ ì‹œ ì •ë ¬", %{conn: conn} do
      {:ok, view, _html} = live_isolated(conn, GridComponent,
        session: %{
          "data" => [
            %{id: 2, name: "Bob"},
            %{id: 1, name: "Alice"}
          ],
          "columns" => [
            %{field: :name, label: "ì´ë¦„", sortable: true}
          ]
        }
      )
      
      # ì •ë ¬ ì „
      html = render(view)
      [first | _] = Floki.find(html, ".lv-grid__row .lv-grid__cell")
      assert Floki.text(first) =~ "Bob"
      
      # ì •ë ¬ í´ë¦­
      view
      |> element(".lv-grid__header-cell--sortable")
      |> render_click(%{"field" => "name", "direction" => "asc"})
      
      # ì •ë ¬ í›„
      html = render(view)
      [first | _] = Floki.find(html, ".lv-grid__row .lv-grid__cell")
      assert Floki.text(first) =~ "Alice"
    end
    
    test "ì •ë ¬ ì•„ì´ì½˜ í† ê¸€", %{conn: conn} do
      {:ok, view, _html} = live_isolated(conn, GridComponent,
        session: %{
          "data" => [%{name: "Alice"}],
          "columns" => [%{field: :name, label: "ì´ë¦„", sortable: true}]
        }
      )
      
      # ì˜¤ë¦„ì°¨ìˆœ
      view
      |> element(".lv-grid__header-cell--sortable")
      |> render_click(%{"field" => "name", "direction" => "asc"})
      
      assert has_element?(view, ".lv-grid__sort-icon", "â–²")
      
      # ë‚´ë¦¼ì°¨ìˆœ
      view
      |> element(".lv-grid__header-cell--sortable")
      |> render_click(%{"field" => "name", "direction" => "desc"})
      
      assert has_element?(view, ".lv-grid__sort-icon", "â–¼")
    end
  end
  
  describe "í˜ì´ì§• ì´ë²¤íŠ¸" do
    test "í˜ì´ì§€ ë³€ê²½", %{conn: conn} do
      data = Enum.map(1..50, fn i -> %{id: i, name: "User #{i}"} end)
      
      {:ok, view, _html} = live_isolated(conn, GridComponent,
        session: %{
          "data" => data,
          "columns" => [%{field: :name, label: "ì´ë¦„"}],
          "options" => %{page_size: 20}
        }
      )
      
      # 1í˜ì´ì§€ (User 1)
      assert has_element?(view, ".lv-grid__cell", "User 1")
      refute has_element?(view, ".lv-grid__cell", "User 21")
      
      # 2í˜ì´ì§€ë¡œ ì´ë™
      view
      |> element(".lv-grid__page-btn", "2")
      |> render_click()
      
      # 2í˜ì´ì§€ (User 21)
      refute has_element?(view, ".lv-grid__cell", "User 1")
      assert has_element?(view, ".lv-grid__cell", "User 21")
    end
    
    test "í˜„ì¬ í˜ì´ì§€ í•˜ì´ë¼ì´íŠ¸", %{conn: conn} do
      {:ok, view, _html} = live_isolated(conn, GridComponent,
        session: %{
          "data" => Enum.map(1..50, fn i -> %{id: i} end),
          "columns" => [%{field: :id, label: "ID"}]
        }
      )
      
      # 2í˜ì´ì§€ í´ë¦­
      view
      |> element(".lv-grid__page-btn", "2")
      |> render_click()
      
      # í˜„ì¬ í˜ì´ì§€ í´ë˜ìŠ¤ í™•ì¸
      assert has_element?(view, ".lv-grid__page-btn--current", "2")
    end
  end
  
  describe "í–‰ ì„ íƒ ì´ë²¤íŠ¸" do
    test "í–‰ í´ë¦­ ì‹œ ì„ íƒ", %{conn: conn} do
      {:ok, view, _html} = live_isolated(conn, GridComponent,
        session: %{
          "data" => [%{id: 1, name: "Alice"}],
          "columns" => [%{field: :name, label: "ì´ë¦„"}],
          "options" => %{selectable: true}
        }
      )
      
      # ì„ íƒ ì „
      refute has_element?(view, ".lv-grid__row--selected")
      
      # í–‰ í´ë¦­
      view
      |> element(".lv-grid__row")
      |> render_click(%{"row_id" => "1"})
      
      # ì„ íƒ í›„
      assert has_element?(view, ".lv-grid__row--selected")
    end
  end
end
```

---

## E2E í…ŒìŠ¤íŠ¸

### 6. Wallaby E2E í…ŒìŠ¤íŠ¸

#### í…ŒìŠ¤íŠ¸ íŒŒì¼: `test/e2e/grid_e2e_test.exs`

```elixir
defmodule LiveViewGridWeb.GridE2ETest do
  use LiveViewGridWeb.FeatureCase
  use Wallaby.Feature
  
  import Wallaby.Query
  
  feature "ì‚¬ìš©ìê°€ Gridë¡œ ë°ì´í„° íƒìƒ‰", %{session: session} do
    # í…ŒìŠ¤íŠ¸ ë°ì´í„° ì¤€ë¹„
    users = insert_list(50, :user)
    
    session
    |> visit("/users")
    |> assert_has(css(".lv-grid"))
    
    # 1. ì´ˆê¸° ë Œë”ë§ í™•ì¸
    session
    |> assert_has(css(".lv-grid__row", count: 20))
    
    # 2. ì •ë ¬
    session
    |> click(css(".lv-grid__header-cell--sortable", text: "ì´ë¦„"))
    |> assert_has(css(".lv-grid__sort-icon", text: "â–²"))
    
    # ì²« ë²ˆì§¸ í–‰ì´ ì•ŒíŒŒë²³ ìˆœì„œì¸ì§€ í™•ì¸
    first_name = 
      session
      |> find(css(".lv-grid__row:first-child .lv-grid__cell:nth-child(2)"))
      |> Element.text()
    
    assert first_name == "Alice"  # ê°€ì •: ì •ë ¬ í›„ ì²« ì´ë¦„
    
    # 3. í˜ì´ì§•
    session
    |> click(css(".lv-grid__page-btn", text: "2"))
    |> assert_has(css(".lv-grid__page-btn--current", text: "2"))
    
    # 4. í–‰ ì„ íƒ
    session
    |> click(css(".lv-grid__row:first-child"))
    |> assert_has(css(".lv-grid__row--selected"))
  end
  
  feature "ì„±ëŠ¥ í…ŒìŠ¤íŠ¸: 1,000í–‰ ë Œë”ë§", %{session: session} do
    insert_list(1000, :user)
    
    # ì‹œì‘ ì‹œê°„
    start_time = System.monotonic_time(:millisecond)
    
    session
    |> visit("/users")
    |> assert_has(css(".lv-grid"))
    
    # ì¢…ë£Œ ì‹œê°„
    end_time = System.monotonic_time(:millisecond)
    load_time = end_time - start_time
    
    # ëª©í‘œ: < 2ì´ˆ
    assert load_time < 2000, "ë¡œë”© ì‹œê°„ ì´ˆê³¼: #{load_time}ms"
  end
  
  feature "ì—ëŸ¬ ì²˜ë¦¬: ë¹ˆ ë°ì´í„°", %{session: session} do
    session
    |> visit("/users")
    |> assert_has(css(".lv-grid__empty-state", text: "ë°ì´í„°ê°€ ì—†ìŠµë‹ˆë‹¤"))
  end
end
```

---

## ì„±ëŠ¥ í…ŒìŠ¤íŠ¸

### 7. ë²¤ì¹˜ë§ˆí¬ í…ŒìŠ¤íŠ¸

#### í…ŒìŠ¤íŠ¸ íŒŒì¼: `test/benchmark/grid_benchmark.exs`

```elixir
defmodule LiveViewGrid.Benchmark do
  use ExUnit.Case
  
  @moduletag :benchmark
  
  setup do
    # ë‹¤ì–‘í•œ í¬ê¸°ì˜ í…ŒìŠ¤íŠ¸ ë°ì´í„°
    datasets = %{
      small: generate_data(100),
      medium: generate_data(1_000),
      large: generate_data(10_000)
    }
    
    %{datasets: datasets}
  end
  
  describe "ì •ë ¬ ì„±ëŠ¥" do
    test "100í–‰ ì •ë ¬", %{datasets: %{small: data}} do
      {time_us, _result} = :timer.tc(fn ->
        LiveViewGrid.Sorting.sort(data, :name, :asc)
      end)
      
      time_ms = time_us / 1_000
      IO.puts("100í–‰ ì •ë ¬: #{time_ms}ms")
      
      assert time_ms < 20, "ëª©í‘œ ì´ˆê³¼: #{time_ms}ms > 20ms"
    end
    
    test "1,000í–‰ ì •ë ¬", %{datasets: %{medium: data}} do
      {time_us, _result} = :timer.tc(fn ->
        LiveViewGrid.Sorting.sort(data, :name, :asc)
      end)
      
      time_ms = time_us / 1_000
      IO.puts("1,000í–‰ ì •ë ¬: #{time_ms}ms")
      
      assert time_ms < 100, "ëª©í‘œ ì´ˆê³¼: #{time_ms}ms > 100ms"
    end
    
    test "10,000í–‰ ì •ë ¬", %{datasets: %{large: data}} do
      {time_us, _result} = :timer.tc(fn ->
        LiveViewGrid.Sorting.sort(data, :name, :asc)
      end)
      
      time_ms = time_us / 1_000
      IO.puts("10,000í–‰ ì •ë ¬: #{time_ms}ms")
      
      assert time_ms < 500, "ëª©í‘œ ì´ˆê³¼: #{time_ms}ms > 500ms"
    end
  end
  
  describe "ë©”ëª¨ë¦¬ ì‚¬ìš©ëŸ‰" do
    test "1,000í–‰ Grid ë©”ëª¨ë¦¬", %{datasets: %{medium: data}} do
      grid = LiveViewGrid.Grid.new!(
        data: data,
        columns: [%{field: :name, label: "ì´ë¦„"}]
      )
      
      size_bytes = :erts_debug.size(grid) * :erlang.system_info(:wordsize)
      size_mb = size_bytes / 1_024 / 1_024
      
      IO.puts("Grid ë©”ëª¨ë¦¬: #{size_mb} MB")
      
      assert size_mb < 3.0, "ë©”ëª¨ë¦¬ ì´ˆê³¼: #{size_mb}MB > 3MB"
    end
  end
  
  defp generate_data(count) do
    Enum.map(1..count, fn i ->
      %{
        id: i,
        name: "User #{i}",
        email: "user#{i}@example.com",
        age: 20 + rem(i, 50)
      }
    end)
  end
end
```

---

## í…ŒìŠ¤íŠ¸ ì»¤ë²„ë¦¬ì§€

### ëª©í‘œ ì»¤ë²„ë¦¬ì§€

| ëª¨ë“ˆ | ëª©í‘œ | í˜„ì¬ | ìƒíƒœ |
|------|------|------|------|
| `LiveViewGrid.Grid` | 90% | - | ğŸ”´ TODO |
| `LiveViewGrid.Sorting` | 95% | - | ğŸ”´ TODO |
| `LiveViewGrid.Pagination` | 95% | - | ğŸ”´ TODO |
| `LiveViewGrid.Column` | 90% | - | ğŸ”´ TODO |
| `LiveViewGridWeb.GridComponent` | 80% | - | ğŸ”´ TODO |
| **ì „ì²´** | **> 85%** | **0%** | ğŸ”´ TODO |

### ì»¤ë²„ë¦¬ì§€ í™•ì¸

```bash
# ì»¤ë²„ë¦¬ì§€ ì‹¤í–‰
mix test --cover

# ìƒì„¸ ë¦¬í¬íŠ¸
mix coveralls.html
open cover/excoveralls.html
```

### ì„¤ì • (`mix.exs`)

```elixir
def project do
  [
    # ...
    test_coverage: [tool: ExCoveralls],
    preferred_cli_env: [
      coveralls: :test,
      "coveralls.detail": :test,
      "coveralls.html": :test
    ]
  ]
end

defp deps do
  [
    {:excoveralls, "~> 0.18", only: :test}
  ]
end
```

---

## CI/CD í†µí•©

### GitHub Actions ì„¤ì •

#### `.github/workflows/test.yml`

```yaml
name: Test

on:
  push:
    branches: [main, develop]
  pull_request:
    branches: [main]

jobs:
  test:
    runs-on: ubuntu-latest
    
    services:
      postgres:
        image: postgres:14
        env:
          POSTGRES_PASSWORD: postgres
        options: >-
          --health-cmd pg_isready
          --health-interval 10s
          --health-timeout 5s
          --health-retries 5
        ports:
          - 5432:5432
    
    steps:
      - uses: actions/checkout@v3
      
      - name: Set up Elixir
        uses: erlef/setup-beam@v1
        with:
          elixir-version: '1.14'
          otp-version: '25'
      
      - name: Restore dependencies cache
        uses: actions/cache@v3
        with:
          path: deps
          key: ${{ runner.os }}-mix-${{ hashFiles('**/mix.lock') }}
          restore-keys: ${{ runner.os }}-mix-
      
      - name: Install dependencies
        run: mix deps.get
      
      - name: Run tests
        run: mix test
        env:
          MIX_ENV: test
      
      - name: Check test coverage
        run: mix coveralls.json
      
      - name: Upload coverage to Codecov
        uses: codecov/codecov-action@v3
        with:
          file: ./cover/excoveralls.json
  
  benchmark:
    runs-on: ubuntu-latest
    
    steps:
      - uses: actions/checkout@v3
      
      - name: Set up Elixir
        uses: erlef/setup-beam@v1
        with:
          elixir-version: '1.14'
          otp-version: '25'
      
      - name: Run benchmarks
        run: mix test --only benchmark
```

---

## í…ŒìŠ¤íŠ¸ ì²´í¬ë¦¬ìŠ¤íŠ¸

### v0.1 í…ŒìŠ¤íŠ¸ ì™„ë£Œ ê¸°ì¤€

#### ë‹¨ìœ„ í…ŒìŠ¤íŠ¸ (80%)
- [ ] Grid.new/1 - 5ê°œ ì‹œë‚˜ë¦¬ì˜¤
- [ ] Grid.visible_data/1 - 3ê°œ ì‹œë‚˜ë¦¬ì˜¤
- [ ] Sorting.sort/3 - 5ê°œ ì‹œë‚˜ë¦¬ì˜¤
- [ ] Pagination.paginate/3 - 4ê°œ ì‹œë‚˜ë¦¬ì˜¤
- [ ] Column.normalize/1 - 4ê°œ ì‹œë‚˜ë¦¬ì˜¤

#### í†µí•© í…ŒìŠ¤íŠ¸ (15%)
- [ ] GridComponent ë Œë”ë§ - 3ê°œ ì‹œë‚˜ë¦¬ì˜¤
- [ ] ì •ë ¬ ì´ë²¤íŠ¸ - 2ê°œ ì‹œë‚˜ë¦¬ì˜¤
- [ ] í˜ì´ì§• ì´ë²¤íŠ¸ - 2ê°œ ì‹œë‚˜ë¦¬ì˜¤
- [ ] í–‰ ì„ íƒ ì´ë²¤íŠ¸ - 1ê°œ ì‹œë‚˜ë¦¬ì˜¤

#### E2E í…ŒìŠ¤íŠ¸ (5%)
- [ ] ì „ì²´ ì‚¬ìš©ì ì—¬ì • - 1ê°œ ì‹œë‚˜ë¦¬ì˜¤
- [ ] ì„±ëŠ¥ í…ŒìŠ¤íŠ¸ - 1ê°œ ì‹œë‚˜ë¦¬ì˜¤
- [ ] ì—ëŸ¬ ì²˜ë¦¬ - 1ê°œ ì‹œë‚˜ë¦¬ì˜¤

#### ì„±ëŠ¥ ë²¤ì¹˜ë§ˆí¬
- [ ] ì •ë ¬ ì„±ëŠ¥ (100/1,000/10,000í–‰)
- [ ] ë©”ëª¨ë¦¬ ì‚¬ìš©ëŸ‰ (1,000í–‰)

---

## í…ŒìŠ¤íŠ¸ ì‹¤í–‰ ê°€ì´ë“œ

### ì „ì²´ í…ŒìŠ¤íŠ¸

```bash
# ëª¨ë“  í…ŒìŠ¤íŠ¸ ì‹¤í–‰
mix test

# ë³‘ë ¬ ì‹¤í–‰ (ë¹ ë¦„)
mix test --max-cases 8
```

### íŠ¹ì • í…ŒìŠ¤íŠ¸ë§Œ

```bash
# ë‹¨ìœ„ í…ŒìŠ¤íŠ¸ë§Œ
mix test test/liveview_grid/

# í†µí•© í…ŒìŠ¤íŠ¸ë§Œ
mix test test/liveview_grid_web/

# ë²¤ì¹˜ë§ˆí¬ë§Œ
mix test --only benchmark

# íŠ¹ì • íŒŒì¼
mix test test/liveview_grid/grid_test.exs

# íŠ¹ì • ë¼ì¸
mix test test/liveview_grid/grid_test.exs:15
```

### Watch ëª¨ë“œ

```bash
# íŒŒì¼ ë³€ê²½ ì‹œ ìë™ ì‹¤í–‰
mix test.watch
```

---

## í…ŒìŠ¤íŠ¸ ë°ì´í„° Factory

### ExMachina ì„¤ì •

```elixir
# test/support/factory.ex
defmodule LiveViewGrid.Factory do
  use ExMachina.Ecto, repo: LiveViewGrid.Repo
  
  def user_factory do
    %LiveViewGrid.User{
      name: sequence(:name, &"User #{&1}"),
      email: sequence(:email, &"user#{&1}@example.com"),
      age: Enum.random(20..60),
      active: true
    }
  end
  
  def grid_data_factory do
    build_list(20, :user)
  end
end
```

### ì‚¬ìš©

```elixir
# í…ŒìŠ¤íŠ¸ì—ì„œ
import LiveViewGrid.Factory

# 1ê°œ ìƒì„±
user = insert(:user)

# 50ê°œ ìƒì„±
users = insert_list(50, :user)

# ì»¤ìŠ¤í…€ ì†ì„±
user = insert(:user, name: "Alice", age: 30)
```

---

## ë²„ì „ ì´ë ¥

| ë²„ì „ | ë‚ ì§œ | ë³€ê²½ì‚¬í•­ |
|------|------|----------|
| v0.1.0 | 2026-02-20 | ì´ˆì•ˆ ì‘ì„±, ë‹¨ìœ„/í†µí•©/E2E í…ŒìŠ¤íŠ¸ ì •ì˜ |

---

## ë‹¤ìŒ ë‹¨ê³„

- [ ] ExUnit í…ŒìŠ¤íŠ¸ ì‘ì„± ì‹œì‘
- [ ] Wallaby ì„¤ì • ë° E2E í…ŒìŠ¤íŠ¸
- [ ] CI/CD íŒŒì´í”„ë¼ì¸ êµ¬ì¶•
- [ ] ì»¤ë²„ë¦¬ì§€ 90% ë‹¬ì„±

ğŸ¾
